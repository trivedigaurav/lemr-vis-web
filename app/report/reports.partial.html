<div class="pagerview">
  <div class="pagerview-row">
      <div ng-repeat="r_id in active.encounterData.rads_ids track by $index" class="pagerview-step">
          <button type="button" scroll-to-bookmark='report-{{r_id}}' class="btn btn-default btn-circle">{{$index + 1}}</button>
          <p class="clickable" scroll-to-bookmark='report-{{r_id}}'> {{active.encounterData.rads[r_id].date | myDate}} </p>
      </div>
  </div>
</div>

<div ng-repeat="r_id in active.encounterData.rads_ids track by $index" id="emr-report-{{r_id}}" class="report" scroll-bookmark='report-{{r_id}}'>
  <div class="info unselectable" >
    <i class="glyphicon glyphicon-list-alt"></i>&nbsp;
    <a tooltip-placement="bottom" tooltip-animation="false" tooltip='{{r_id}}'>
      <strong class="file-name js-selectable-text">{{ active.encounterData.rads[r_id].date | myDate }}</strong>
    </a>
    
    <!-- <a class="btn btn-xs btn-default pull-right" ng-click="popReport(r_id)" href="#{{r_id}}"><i class="glyphicon glyphicon-new-window"></i></a> -->

      <span class="pull-right">
          <a tooltip-placement="bottom" tooltip-animation="false" tooltip="First" href="#first" class="glyphicon glyphicon-step-backward" scroll-to-bookmark="report-{{active.encounterData.rads_ids[0]}}"></a>
          <a tooltip-placement="bottom" tooltip-animation="false" tooltip="Previous" href="#prev" class="glyphicon glyphicon-chevron-left" scroll-to-bookmark="report-{{active.encounterData.rads_ids[$index-1]}}"></a>

          <a href="#report-{{r_id}}">{{$index + 1}} of {{active.encounterData.rads_ids.length}}</a>

          <a tooltip-placement="bottom" tooltip-animation="false" tooltip="Next" href="#next" class="glyphicon glyphicon-chevron-right" scroll-to-bookmark="report-{{active.encounterData.rads_ids[$index+1]}}"></a>
          <a tooltip-placement="bottom" tooltip-animation="false" tooltip="Last" href="#last" class="glyphicon glyphicon-step-forward" scroll-to-bookmark="report-{{active.encounterData.rads_ids[active.encounterData.rads_ids.length - 1]}}"></a>
      </span>

  </div>
  <pre ng-class="{'report-incidental': active.encounterData.reports[r_id].class}">
      <highlighted-report data='active.encounterData.rads[r_id].text' record-id='r_id' encounter-id='active.encounterId' helper-terms="search_list" get-levels='getLevelsByReport(r_id)' show-feedback-menu="showFeedbackMenu(event, items, callback)" data-report='r_id'>
      <!-- redraw-map='pagemapCtrl.redraw'> -->
     </highlighted-report>
  </pre>
</div>

