'use strict';

(function(angular){

  var _template =  'encounter-select/encounter-select.template.html';

  var app = angular.module('encounter.select', []);
  
  app.component('encounterSelect',{
      
      restrict: 'E',
      bindings: {
        load: '&',
        selectEncounter: '='
      },
      templateUrl: _template,
      controller: SelectController,
      controllerAs: 'esel'
    });
  
  
  function SelectController(){
    var self = this;
    
    self.$onInit = function(){
      self.eid = localStorage.getItem('activeEncounter') || "232369324";
      self.selectEncounter = selectEncounter;
      selectEncounter();
      self.enc_686 = [232369324, 225480266, 225844546, 231534675, 228776193, 232214941, 231523877, 224860824, 226244227, 229431351, 232891169, 232571584, 225355694, 228566912, 233864685, 226141372, 225434978, 227378491, 227191128, 226154272, 230575560, 228936017, 225487556, 226978676, 232399644, 228919500, 230571115, 228815350, 232994600, 229189938, 228126586, 230331479, 233391258, 230076770, 228148556, 229490624, 227988621, 229958594, 225734618, 229480842, 232175252, 227259351, 229589580, 232214531, 231420539, 228138495, 229344065, 227976340, 226263355, 230010491, 226132031, 225190435, 228814855, 228754517, 224863497, 226121136, 232061356, 228144879, 228305789, 231521718, 229628158, 232016078, 224916809, 225013271, 229628538, 230882490, 228817968, 228128933, 233032003, 226314947, 223458422, 227424265, 231001655, 228818458, 232994838, 225380700, 231895506, 225482499, 230464063, 228763172, 232038603, 226933189, 229428189, 231877712, 227324682, 231525290, 224861550, 225249341, 229455410, 228148713, 233873643, 231429937, 229960867, 227637032, 231155670, 232172254, 228797588, 232707568, 228586859, 231251184, 225476777, 229449164, 224933870, 232781088, 232522577, 229906020, 224806314, 226649907, 226339193, 228399390, 224718124, 224723382, 225708379, 229566401, 226157489, 227677712, 231007317, 233046215, 226585145, 228243299, 229476904, 226015737, 230157053, 231033061, 228436391, 224534445, 226121040, 232457766, 232322180, 227350232, 231156512, 226665788, 228141652, 226006344, 226015698, 231431229, 229190977, 233679919, 226947661, 227430844, 226554148, 228078408, 226875541, 225599872, 229219437, 225383546, 230116573, 229178153, 225359742, 225623442, 224978482, 227347359, 231289189, 230019909, 230077883, 233168801, 225925660, 225584347, 226397593, 229182710, 226142029, 229270041, 226950919, 228164712, 226078281, 226078871, 227970819, 231281676, 224745282, 229167326, 233221382, 228436411, 225295476, 230143720, 230307529, 225831933, 233390775, 225743110, 230870632, 233521649, 227179890, 226794001, 232398747, 228666302, 226153615, 226300989, 225153603, 225443736, 225283445, 229728104, 228826469, 231420614, 233204694, 228563690, 226088032, 225123857, 226109321, 224708879, 230856865, 233048692, 230862139, 232231880, 228838693, 228768163, 224858030, 225590573, 230888797, 226353535, 229581596, 227490183, 225487587, 228809186, 224963625, 233866277, 225698666, 227124339, 225468211, 229486630, 226015481, 231434641, 231612222, 231993633, 232029585, 226212082, 231728841, 229841898, 230135498, 228941198, 223268132, 226712516, 225244802, 233204336, 230157025, 231896588, 230863124, 226155385, 226249823, 231118774, 231096007, 228772638, 225768929, 226344634, 230154710, 226401985, 231031916, 229488171, 232230000, 231246649, 230152709, 231281480, 226142107, 232194467, 230927336, 227083211, 225154975, 226143267, 229683465, 228904177, 228779754, 226122794, 227346878, 225341737, 232889891, 226385917, 226756954, 227473283, 232216637, 228814297, 224868322, 230518411, 229972119, 230285532, 230856520, 227197797, 225362916, 225579689, 230854789, 231856545, 232167409, 233361064, 231025859, 233868600, 225758962, 227991222, 227477561, 226752142, 229347667, 233390928, 224324442, 233195547, 226788157, 231697281, 232027881, 228565123, 223936172, 231434041, 226016300, 228256254, 229456374, 229496348, 227084018, 231701727, 232196621, 233848780, 232216253, 231699811, 225094803, 229540468, 226947718, 229477863, 225146902, 225582163, 233157699, 225819498, 226933090, 230147586, 226143519, 226635340, 227487684, 231156343, 229065592, 233018948, 227518930, 222544993, 226557973, 233847221, 228652906, 231865003, 230910938, 228203015, 232225986, 226809144, 232699703, 231297364, 225608146, 232698802, 231160736, 230996642, 229452261, 226610648, 228818627, 229595806, 226807239, 228814218, 230972014, 231034164, 229806114, 229495357, 226476355, 230952022, 226832436, 231383429, 233223298, 232210069, 229416301, 227314542, 226164960, 230430895, 231400199, 233351256, 225592854, 231026159, 232170874, 233036582, 228139309, 226257042, 233018710, 228802689, 228969072, 233389784, 232694238, 232574841, 233714017, 225486615, 231395961, 225624012, 230999197, 230191154, 227474602, 228148522, 231369662, 231699095, 228809036, 224915154, 226296038, 228663854, 227008288, 230252942, 226576221, 227180446, 227309143, 231438810, 232223243, 226144792, 229473577, 233021182, 226139301, 225376113, 233648924, 225474064, 229223074, 232374931, 226494054, 228246406, 231697727, 225483021, 225147613, 225769930, 229748260, 228618502, 227997393, 233129796, 228768121, 231507623, 226392634, 226077872, 229308211, 229043732, 230672693, 233875745, 224745236, 232157929, 225400649, 225282762, 230130769, 227257509, 230997588, 230997037, 231414050, 228409039, 230223895, 226143029, 233877631, 230139266, 232108167, 232502556, 233042520, 231421626, 228826547, 226190835, 227450929, 227500151, 229307760, 226812953, 229720058, 228374874, 232329895, 231412494, 225802543, 231129240, 233524917, 230883670, 227470058, 228522074, 227454911, 232194702, 229888004, 226812581, 226103736, 223498461, 228827722, 232996696, 228880211, 228810828, 226831796, 230154085, 229479212, 232723426, 231433472, 232522788, 231541722, 232548956, 231239445, 233200332, 232017140, 229233959, 226751451, 225596778, 228126682, 229326837, 228054458, 225293948, 232033345, 226808644, 224722991, 232889624, 229351670, 233045543, 232170901, 233349732, 228783677, 225859079, 227990307, 232229609, 230869788, 230858474, 225475596, 225154980, 229455872, 226224230, 233260163, 229215584, 230996934, 226134775, 225704748, 231420467, 228812783, 224942709, 233048089, 226097532, 226151971, 232061586, 230802905, 231438928, 228017848, 226017646, 225864893, 229852817, 228800714, 229430597, 230872258, 225185820, 226770705, 227425030, 233391230, 225735723, 231128383, 226375310, 224935578, 226649776, 227856278, 229847669, 226261158, 228812043, 228144422, 232137006, 228164507, 231033356, 232399268, 229615983, 229162388, 233037770, 231004347, 231121974, 231434167, 231407791, 231697597, 230881914, 230854382, 226635404, 228565268, 230873418, 224421013, 225438241, 232307370, 226944079, 228241257, 231528616, 227003003, 231847443, 229100524, 226810731, 231656104, 225481446, 229479408, 230885153, 231087316, 230286061, 229472010, 228932343, 227473129, 228920308, 231504498, 229465834, 228756260, 225757760, 229831971, 229433488, 229479175, 228967673, 229419939, 231424365, 224853059, 228091521, 230867866, 230136242, 226621165, 230148191, 230783521, 231414526, 232399262, 229068333, 228144190, 229257613, 228530677, 225501649, 229458015, 232861542, 230504342, 233864682, 228126322, 230854953, 231434249, 226142635, 229434009, 226391949, 225906519, 227471974, 224520146, 228839235, 230939149, 227083969, 225443044, 226942755, 225759549, 225437898, 228910920, 233041034, 228518350, 229426407, 227901781, 228104263, 230149792, 226951061, 225634393, 226139164, 230481713, 229073141, 225156580, 233021734, 229759723, 226245537, 228443722, 229366410, 228233201, 228146433, 229897842, 228692402, 226147819, 226146854, 226295697, 233023232, 227307549, 232399981, 232107532, 226652671, 229282890, 229817901, 226716893, 231546032, 228920606, 228540383, 228901414, 225893301, 229346826, 229985843, 230870361, 229266668, 228666979, 231439160, 228566016, 233495162, 228835817, 228769092, 227158105, 232569546, 230116224, 230137930, 228935148, 227525983, 233046165, 224702629, 226157944, 228813126, 225116415, 226147886, 229202260, 224089758, 232164090, 229395543, 232646095, 226466303, 230149060, 231434607, 227546724, 228838969];
    }

    function selectEncounter(eid){
      // console.log("changeEncounter", self.eid);
      if (eid){
        self.eid = eid;
      }
      
      self.load({encounter: self.eid});
      localStorage.setItem('activeEncounter', self.eid);
    }
    
  }
  
})(window.angular);